(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{"./app/src/components/MobileAppDownloadPrompt/index.ts":function(e,n,o){"use strict";o.r(n),o.d(n,"MobileAppDownloadPrompt",(function(){return k}));var t=o("./node_modules/react/index.js"),s=o.n(t),a=o("./node_modules/js-cookie/src/js.cookie.js"),l=o.n(a),i=o("./node_modules/moment/moment.js"),c=o.n(i),r=o("./packages/storage/index.ts"),p=o("./packages/i18n/index.ts"),d=o("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),m=o.n(d),u=o("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MobileAppDownloadPrompt/MobileAppDownloadPrompt.less"),b={insert:"head",singleton:!1},g=(m()(u.a,b),u.a.locals||{}),w=o("./packages/nachos/button.ts"),j=o("./packages/atlassian-analytics/index.ts"),v=o("./packages/browser/index.ts"),O=o("./app/src/components/CloseButton/index.ts"),_=o("./packages/nachos/icons/close.tsx");const I=Object(p.forTemplate)("mobile_app_download_prompt"),h=()=>{const e=l.a.get("force_mobileAppDownloadPlatform");return Object(v.isIPhone)()||Object(v.isIPod)()||"ios"===e?"ios":Object(v.isAndroid)()||"android"===e?"android":""},P=()=>{const e=h();return"ios"===e?"https://apps.apple.com/us/app/trello-organize-anything/id461504587":"android"===e?"https://play.google.com/store/apps/details?id=com.trello":""},k=()=>{const[e,n]=Object(t.useState)((()=>{const e="true"===l.a.get("force_mobileAppDownloadPrompt"),n=r.TrelloStorage.get("mobilePromptClosed");let o=!1;if(n){const e=c()(n);o=c()().diff(e,"hours")<24}return!o&&(Object(v.isAndroid)()||Object(v.isIPhone)()||Object(v.isIPod)()||e)})()),o=Object(t.useCallback)((()=>{j.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"mobileAppDownloadPromptBanner",source:Object(j.getScreenFromUrl)(),attributes:{platform:h()}}),r.TrelloStorage.set("mobilePromptClosed",c()().valueOf()),n(!1)}),[]),a=Object(t.useCallback)((()=>{j.Analytics.sendClickedLinkEvent({linkName:"goToAppLink",source:"mobileAppDownloadPromptBanner",attributes:{platform:h()}})}),[]);return e?(j.Analytics.sendViewedBannerEvent({bannerName:"mobileAppDownloadPromptBanner",source:Object(j.getScreenFromUrl)(),attributes:{platform:h()}}),s.a.createElement("div",{className:g.mobilePrompt},s.a.createElement(O.a,{closeIcon:s.a.createElement(_.a,null),className:g.closeButton,medium:!0,onClick:o,type:"button"}),s.a.createElement("div",{className:g.contentContainer},s.a.createElement("h2",null,I("headline")),s.a.createElement("p",null,I("subtitle")),s.a.createElement(w.ButtonLink,{link:P(),className:g.appLink,isPrimary:!0,openInNewTab:!0,onClick:a},I("go-to-app")),s.a.createElement(w.Button,{onClick:o,className:g.dismissButton,shouldFitContainer:!0},I("not-now"))))):null}},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MobileAppDownloadPrompt/MobileAppDownloadPrompt.less":function(e,n,o){"use strict";var t=o("./node_modules/css-loader/dist/runtime/api.js"),s=o.n(t)()(!1);s.push([e.i,".IGO6vd11RvYw10 {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  height: 300px;\n  width: 100%;\n  background: linear-gradient(209.9deg, #403294 6.69%, #172b4d 91.18%);\n  color: #FFFFFF;\n  text-align: center;\n}\n.IGO6vd11RvYw10 ._27Z-ISOgYFztE0 {\n  position: absolute;\n  right: 0;\n  top: 0;\n  margin: 0.7em;\n}\n.IGO6vd11RvYw10 ._27Z-ISOgYFztE0 span > span {\n  color: #A5ADBA;\n}\n.IGO6vd11RvYw10 ._27Z-ISOgYFztE0 span > span:hover,\n.IGO6vd11RvYw10 ._27Z-ISOgYFztE0 span > span:focus {\n  color: #7A869A;\n}\n.IGO6vd11RvYw10 .WV0XXPc_2yI8Y6 {\n  margin: 29px 24px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 242px;\n}\n.IGO6vd11RvYw10 .WV0XXPc_2yI8Y6 h2 {\n  font-size: 22px;\n  margin-top: 8px;\n  margin-bottom: 0;\n}\n.IGO6vd11RvYw10 .WV0XXPc_2yI8Y6 p {\n  font-size: 15px;\n  line-height: 140%;\n}\n.IGO6vd11RvYw10 .WV0XXPc_2yI8Y6 ._3eTRhqV5aEi9w4,\n.IGO6vd11RvYw10 .WV0XXPc_2yI8Y6 ._3KcJFmZ3qhfSrO {\n  display: block;\n  color: #FFFFFF;\n}\n",""]),s.locals={mobilePrompt:"IGO6vd11RvYw10",closeButton:"_27Z-ISOgYFztE0",contentContainer:"WV0XXPc_2yI8Y6",appLink:"_3eTRhqV5aEi9w4",dismissButton:"_3KcJFmZ3qhfSrO"},n.a=s}}]);
//# sourceMappingURL=mobile-app-download-prompt.3d9457ce40230816127a.js.map